{"code":"import * as React from 'react';\r\nimport { useContractRead } from 'wagmi';\r\nimport classNames from 'classnames';\r\nimport CitizenAlpha from '@web3-citizen/core-sol/deployments/localhost/CitizenAlpha.json';\r\nimport { IpfsUriImageBackgroundRender } from '@turbo-eth/core-wagmi';\r\nimport { Address } from '@turbo-eth/core-wagmi';\r\n// import CitizenLink from './CitizenLink';\r\nconst Trait = ({ value, label }) => {\r\n    if (!value)\r\n        return null;\r\n    return (React.createElement(\"div\", null,\r\n        label,\r\n        \": \",\r\n        value));\r\n};\r\nexport const CitizenCard = ({ className, classNameImage, tokenId = '0', }) => {\r\n    const containerClassName = classNames(className, 'CitizenCard');\r\n    const { data, isError } = useContractRead({\r\n        addressOrName: CitizenAlpha.address,\r\n        contractInterface: CitizenAlpha.abi,\r\n    }, 'tokenURI', {\r\n        args: [tokenId],\r\n    });\r\n    // const [ traits, setTraits ] = React.useState()\r\n    const [citizenData, setCitizenData] = React.useState();\r\n    React.useEffect(() => {\r\n        if (data) {\r\n            (async () => {\r\n                const json = Buffer.from(data.substring(29), 'base64').toString();\r\n                console.log(json);\r\n                const result = JSON.parse(json);\r\n                let traits = {};\r\n                result.attributes.forEach((element) => {\r\n                    traits = {\r\n                        ...traits,\r\n                        [element.trait_type]: element.value\r\n                    };\r\n                });\r\n                result.traits = traits;\r\n                console.log(result);\r\n                setCitizenData(result);\r\n            })();\r\n        }\r\n    }, [data]);\r\n    if (isError) {\r\n        return React.createElement(\"div\", null, \"Error requesting NFT data\");\r\n    }\r\n    return (React.createElement(\"div\", { className: containerClassName },\r\n        React.createElement(IpfsUriImageBackgroundRender, { className: classNameImage, uri: citizenData?.image || '' }),\r\n        ' ',\r\n        React.createElement(\"h3\", { className: \"font-normal text-xl my-3\" }, citizenData?.description.length == 42 ? React.createElement(Address, { truncate: true, address: citizenData?.description }) : citizenData?.description),\r\n        React.createElement(\"hr\", { className: \"my-6 opacity-5\", style: { marginTop: 6, marginBottom: 6, opacity: '0.35' } }),\r\n        // @ts-ignore\r\n        citizenData?.attributes?.length > 0 &&\r\n            React.createElement(React.Fragment, null,\r\n                React.createElement(Trait, { label: 'description', value: citizenData?.traits['description'] }),\r\n                React.createElement(Trait, { label: 'twitter', value: citizenData?.traits['com.twitter'] }),\r\n                React.createElement(Trait, { label: 'github', value: citizenData?.traits['com.github'] }),\r\n                React.createElement(\"hr\", { className: \"my-6 opacity-5\", style: { marginTop: 6, marginBottom: 6, opacity: '0.35' } })),\r\n        React.createElement(\"div\", { className: 'block' },\r\n            React.createElement(\"span\", { className: \"block font-bold text-sm\" }, citizenData?.name),\r\n            React.createElement(\"span\", { className: \"block font-normal text-sm\" },\r\n                \"Invited By: \",\r\n                React.createElement(Address, { truncate: true, address: citizenData?.traits['link'] })))));\r\n};\r\nexport default CitizenCard;\r\n//# sourceMappingURL=CitizenCard.js.map","references":["/Users/kames/workspace/soulcialites/web3-citizen/node_modules/.pnpm/@types+react@18.0.14/node_modules/@types/react/index.d.ts","/Users/kames/workspace/soulcialites/web3-citizen/node_modules/.pnpm/wagmi@0.4.12_2pvqx3wni2imkaucnfdtyrjuiq/node_modules/wagmi/dist/wagmi.cjs.d.ts","/Users/kames/workspace/soulcialites/web3-citizen/node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.d.ts","/Users/kames/workspace/soulcialites/web3-citizen/contracts/core-sol/deployments/localhost/CitizenAlpha.json","/Users/kames/workspace/soulcialites/web3-citizen/packages/core-wagmi/dist/index.d.ts","/Users/kames/workspace/soulcialites/web3-citizen/packages/core-wagmi/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"CitizenCard.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/CitizenCard.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/kames/workspace/soulcialites/web3-citizen/packages/lib-react/CitizenCard.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"react\" />\r\ninterface CitizenCardProps {\r\n    className?: string;\r\n    classNameImage?: string;\r\n    tokenId: string | number;\r\n}\r\nexport declare const CitizenCard: ({ className, classNameImage, tokenId, }: CitizenCardProps) => JSX.Element;\r\nexport default CitizenCard;\r\n"}}
